{"version":3,"file":"commonHelpers.js","sources":["../src/js/cat-api.js","../src/js/index.js"],"sourcesContent":["import axios from 'axios';\n\naxios.defaults.headers.common['x-api-key'] =\n  'live_EplPvU7ci3YavzCPFlo4YRRLRcifpeQ1TyzYFroY589Dsj1Bw8eyTsvrcJ5pS5A5';\n\nexport async function fetchBreeds() {\n  const response = await axios.get('https://api.thecatapi.com/v1/breeds');\n  return response.data;\n}\n\nexport async function fetchCatByBreed(breedId) {\n  const response = await axios.get(\n    `https://api.thecatapi.com/v1/images/search?breed_ids=${breedId}`\n  );\n  return response.data;\n}\n","import { fetchBreeds, fetchCatByBreed } from './cat-api.js';\n\nconst elements = {\n  select: document.querySelector('.breed-select'),\n  loader: document.querySelector('.loader'),\n  error: document.querySelector('.error'),\n  info: document.querySelector('.cat-info'),\n};\n\nelements.select.addEventListener('change', selectOption);\n\nloadSelectData();\n\nasync function loadSelectData() {\n  try {\n    await fetchBreeds().then(data => {\n      const markup = markupOptions(data);\n      elements.select.innerHTML = markup;\n    });\n    showElement(elements.select, true);\n  } catch (error) {\n    showElement(elements.error, true);\n    console.log(error);\n  } finally {\n    showElement(elements.loader, false);\n  }\n}\n\nasync function selectOption() {\n  try {\n    showElement(elements.error, false);\n    showElement(elements.info, false);\n    showElement(elements.loader, true);\n    const itemId = elements.select.value;\n    const data = await fetchCatByBreed(itemId);\n    markupDescription(data);\n    showElement(elements.info, true);\n  } catch (error) {\n    showElement(elements.error, true);\n    console.log(error);\n  } finally {\n    showElement(elements.loader, false);\n  }\n}\n\nfunction markupOptions(data) {\n  return data.map(({ id, name }) => `<option value=\"${id}\">${name}</option>`);\n}\n\nfunction markupDescription(data) {\n  const image = data[0].url;\n  const info = data[0].breeds[0];\n  const markup = `\n    <img\n      class=\"image\"\n      src=\"${image}\" \n      alt=\"${info.name}\" \n      width=\"500\" \n      height=\"500\">\n    <div class=\"description\">\n      <h1 class=\"title\">${info.name}</h1>\n      <p class=\"text\">${info.description}</p>\n      <div class=\"features\">\n        <h3 class=\"title\">Temperament: </h3>\n        <span class=\"text\">${info.temperament}</span>\n    </div>\n    </div>  \n  `;\n\n  elements.info.innerHTML = markup;\n  showElement(elements.info, true);\n}\n\nfunction showElement(element, visibility) {\n  element.classList.toggle('visuallyhidden', !visibility);\n}\n"],"names":["axios","fetchBreeds","fetchCatByBreed","breedId","elements","selectOption","loadSelectData","data","markup","markupOptions","showElement","error","itemId","markupDescription","id","name","image","info","element","visibility"],"mappings":"svBAEAA,EAAM,SAAS,QAAQ,OAAO,WAAW,EACvC,wEAEK,eAAeC,GAAc,CAElC,OADiB,MAAMD,EAAM,IAAI,qCAAqC,GACtD,IAClB,CAEO,eAAeE,EAAgBC,EAAS,CAI7C,OAHiB,MAAMH,EAAM,IAC3B,wDAAwDG,CAAO,EACnE,GACkB,IAClB,CCbA,MAAMC,EAAW,CACf,OAAQ,SAAS,cAAc,eAAe,EAC9C,OAAQ,SAAS,cAAc,SAAS,EACxC,MAAO,SAAS,cAAc,QAAQ,EACtC,KAAM,SAAS,cAAc,WAAW,CAC1C,EAEAA,EAAS,OAAO,iBAAiB,SAAUC,CAAY,EAEvDC,IAEA,eAAeA,GAAiB,CAC9B,GAAI,CACF,MAAML,EAAW,EAAG,KAAKM,GAAQ,CAC/B,MAAMC,EAASC,EAAcF,CAAI,EACjCH,EAAS,OAAO,UAAYI,CAClC,CAAK,EACDE,EAAYN,EAAS,OAAQ,EAAI,CAClC,OAAQO,EAAO,CACdD,EAAYN,EAAS,MAAO,EAAI,EAChC,QAAQ,IAAIO,CAAK,CACrB,QAAY,CACRD,EAAYN,EAAS,OAAQ,EAAK,CACnC,CACH,CAEA,eAAeC,GAAe,CAC5B,GAAI,CACFK,EAAYN,EAAS,MAAO,EAAK,EACjCM,EAAYN,EAAS,KAAM,EAAK,EAChCM,EAAYN,EAAS,OAAQ,EAAI,EACjC,MAAMQ,EAASR,EAAS,OAAO,MACzBG,EAAO,MAAML,EAAgBU,CAAM,EACzCC,EAAkBN,CAAI,EACtBG,EAAYN,EAAS,KAAM,EAAI,CAChC,OAAQO,EAAO,CACdD,EAAYN,EAAS,MAAO,EAAI,EAChC,QAAQ,IAAIO,CAAK,CACrB,QAAY,CACRD,EAAYN,EAAS,OAAQ,EAAK,CACnC,CACH,CAEA,SAASK,EAAcF,EAAM,CAC3B,OAAOA,EAAK,IAAI,CAAC,CAAE,GAAAO,EAAI,KAAAC,CAAM,IAAK,kBAAkBD,CAAE,KAAKC,CAAI,WAAW,CAC5E,CAEA,SAASF,EAAkBN,EAAM,CAC/B,MAAMS,EAAQT,EAAK,CAAC,EAAE,IAChBU,EAAOV,EAAK,CAAC,EAAE,OAAO,CAAC,EACvBC,EAAS;AAAA;AAAA;AAAA,aAGJQ,CAAK;AAAA,aACLC,EAAK,IAAI;AAAA;AAAA;AAAA;AAAA,0BAIIA,EAAK,IAAI;AAAA,wBACXA,EAAK,WAAW;AAAA;AAAA;AAAA,6BAGXA,EAAK,WAAW;AAAA;AAAA;AAAA,IAK3Cb,EAAS,KAAK,UAAYI,EAC1BE,EAAYN,EAAS,KAAM,EAAI,CACjC,CAEA,SAASM,EAAYQ,EAASC,EAAY,CACxCD,EAAQ,UAAU,OAAO,iBAAkB,CAACC,CAAU,CACxD"}